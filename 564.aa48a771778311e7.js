"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[564],{7564:(f,m,i)=>{i.r(m),i.d(m,{default:()=>O});var u=i(1413),h=i(980),_=i(2389),t=i(3953);const d={id:1,reportName:"Sales Item Transaction",details:[{idName:"receiptCtr",label:"Receipt #"},{idName:"prodDesc",label:"Item"},{idName:"category",label:"Category"},{idName:"srp",label:"SRP"},{idName:"qty",label:"Qty"},{idName:"discType",label:"Disc. Type"},{idName:"extAmt",label:"Total"},{idName:"mop",label:"MOP"},{idName:"soldType",label:"Sold Type"},{idName:"datePurch",label:"Date"},{idName:"time",label:"Time"}]};let b=(()=>{class e{get(){return d}static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var o=i(6833),s=i(4341),c=i(3413),y=i(1511);const g=()=>({maximumFractionDigits:2});function C(e,r){1&e&&(t.j41(0,"button",5),t.nrm(1,"span",12),t.j41(2,"span"),t.EFF(3,"\xa0Loading..."),t.k0s()())}function S(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.search())}),t.EFF(1,"Search"),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("disabled",null===n.dateFrom)}}function F(e,r){if(1&e&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.JRh(n.label)}}function R(e,r){if(1&e&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit,l=t.XpG().$implicit;t.R7$(),t.SpI(" ",l[n.idName]," ")}}function v(e,r){if(1&e&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit,l=t.XpG().$implicit;t.R7$(),t.SpI(" ",l[n.idName]," ")}}function T(e,r){1&e&&t.DNE(0,R,2,1,"td")(1,v,2,1,"td"),2&e&&t.vxM("Date"===r.$implicit.label?0:1)}function M(e,r){if(1&e&&(t.j41(0,"tr",10),t.Z7z(1,T,2,1,null,null,t.fX1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Dyx(n.columns)}}let O=(()=>{class e{constructor(n,l){this.salesReportService=n,this.genericService=l,this.destroy=new u.B,this.destroy$=this.destroy.asObservable(),this.dateFrom=null,this.dateTo=null,this.isBusy=!1,this.total=0,this.columns=this.salesReportService.get().details}ngOnInit(){this.title="Item Sales Transaction"}ngOnDestroy(){this.destroy.next(null)}search(){if(this.isBusy=!0,null!==this.dateFrom){const n=new Date(this.dateFrom).toISOString(),l=null!==this.dateTo?new Date(this.dateTo).toISOString():"na";this.genericService.get(`report/GetSalesReport/${n}/${l}`).pipe((0,h.j)(()=>{this.isBusy=!1})).subscribe(a=>{this.data=a.data,this.total=a.total})}}static#t=this.\u0275fac=function(l){return new(l||e)(t.rXU(b),t.rXU(o.X))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-report-sales"]],standalone:!0,features:[t.aNF],decls:24,vars:10,consts:[[1,"col-xl-12"],["blockClass","table-border-style",3,"hidHeader","options"],[1,"div-header"],[1,"align-right"],[1,"col-md-4",3,"ngModelChange","ngModel"],["type","button","disabled","",1,"btn-rounded","btn","btn-primary"],[1,"btn-rounded","btn","btn-primary",3,"disabled"],[1,"table-responsive","div-table"],[1,"table","table-styling"],[1,"table-primary"],["scope","row"],[1,"row",2,"padding-left","12px"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"btn-rounded","btn","btn-primary",3,"click","disabled"]],template:function(l,a){1&l&&(t.j41(0,"div",0)(1,"app-card",1)(2,"div",2)(3,"h5",3),t.EFF(4),t.nrm(5,"br"),t.EFF(6),t.k0s(),t.j41(7,"div",3)(8,"nz-date-picker",4),t.mxI("ngModelChange",function(p){return t.DH7(a.dateFrom,p)||(a.dateFrom=p),p}),t.k0s(),t.j41(9,"nz-date-picker",4),t.mxI("ngModelChange",function(p){return t.DH7(a.dateTo,p)||(a.dateTo=p),p}),t.k0s(),t.DNE(10,C,4,0,"button",5)(11,S,2,1,"button",6),t.k0s()(),t.j41(12,"div",7)(13,"table",8)(14,"thead")(15,"tr",9),t.Z7z(16,F,2,1,"th",null,t.fX1),t.k0s()(),t.j41(18,"tbody"),t.Z7z(19,M,3,0,"tr",10,t.fX1),t.k0s()(),t.j41(21,"div",11)(22,"h5"),t.EFF(23),t.k0s()()()()()),2&l&&(t.R7$(),t.Y8G("hidHeader",!0)("options",!1),t.R7$(3),t.SpI(" ",a.title," "),t.R7$(2),t.SpI(" (TOTAL AMOUNT: ",a.total.toLocaleString("en-US",t.lJ4(8,g)),") "),t.R7$(2),t.R50("ngModel",a.dateFrom),t.R7$(),t.R50("ngModel",a.dateTo),t.R7$(),t.vxM(a.isBusy?10:11),t.R7$(6),t.Dyx(a.columns),t.R7$(3),t.Dyx(a.data),t.R7$(4),t.SpI("TOTAL AMOUNT: ",a.total.toLocaleString("en-US",t.lJ4(9,g)),""))},dependencies:[_.G,s.BC,s.vS,c.i,y.SN],styles:[".btn[_ngcontent-%COMP%]{padding:5px 20px}.div-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.align-right[_ngcontent-%COMP%]{display:flex;justify-content:left}.align-right[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:10px;padding-bottom:5px}.div-table[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 140px)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}@media only screen and (max-width: 600px){.div-header[_ngcontent-%COMP%], .align-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]})}return e})()},6833:(f,m,i)=>{i.d(m,{X:()=>t});var u=i(2525),h=i(3953),_=i(1626);let t=(()=>{class d{constructor(o){this.http=o}get(o){return this.http.get(`${o}`)}post(o,s){return this.http.post(`${o}`,s)}fileUpload(o,s,c){return this.http.post(`${o}`,s,c)}delete(o){return this.http.delete(`${o}`)}deleteWithPayload(o,s){return this.http.delete(`${o}`,{body:s})}deleteWithBody(o,s){return this.http.delete(`${o}`,{body:s})}put(o,s){return this.http.put(`${u.c.apiUrl}/${o}`,s)}static#t=this.\u0275fac=function(s){return new(s||d)(h.KVO(_.Qq))};static#e=this.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);